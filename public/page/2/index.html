<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="ch">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="今天的风儿，甚是喧嚣啊。">
<meta property="og:type" content="website">
<meta property="og:title" content="ParserDark">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="ParserDark">
<meta property="og:description" content="今天的风儿，甚是喧嚣啊。">
<meta property="og:locale" content="ch">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ParserDark">
<meta name="twitter:description" content="今天的风儿，甚是喧嚣啊。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>ParserDark</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="ch">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ParserDark</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/14/linux设置自定义命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/14/linux设置自定义命令/" itemprop="url">linux设置自定义命令行</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-14T21:45:32+08:00">
                2018-10-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##linux设置自定义命令行<br>背景: 刚从win换linux<br>因为喜欢使用类似思维导图的工具来管理自己的想法，所以在linux上使用了xmind。但是linux不支持右键快捷方式。我现在目前都是写一个bash脚本放桌面。后来我发现了.bashrc</p>
<blockquote>
<p>.bashrc<br>这个文件主要保存个人的一些个性化设置，如命令别名、路径等。也即在同一个服务器上，只对某个用户的个性化设置相关。</p>
</blockquote>
<p>简而言之，我们通过对这个文件内容的编辑，能让你达到自定义命令的效果。一般在”~“目录下面。<br>首先打开终端使用编辑器进入.bashrc这个文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias xmind=&quot;~/文档/opt/&apos;XMind ZEN&apos;/XMind*&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>alias是设置指令的别名。<br>语法：alias[别名]=[指令名称]</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/14/mongdb搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/14/mongdb搭建/" itemprop="url">mongdb搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-14T21:45:32+08:00">
                2018-10-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#mongdb搭建</p>
<p>首先是福利：免费集群服务器（免费500M存储，三台）<br><a href="https://cloud.mongodb.com/v2/5bc2d61c553855d63702205e#clusters/security/whitelist" target="_blank" rel="noopener">https://cloud.mongodb.com/v2/5bc2d61c553855d63702205e#clusters/security/whitelist</a><br>我使用它是因为我现在想走一整个现代化的开发流程。目前在做的是一个v2ray资讯站点。目前的技术使用了：vue + webpack + express + mongodb</p>
<hr>
<p>因为我用的是ubuntu 所以我的教程针对ubuntu.其余的系统只可参照。不可照搬。</p>
<hr>
<p>我建议使用系统自带包管理进行安装。我试过自己下载压缩包自己解压。会比较麻烦，需要配系统变量等操作。所以我推荐按照以下步骤来做。</p>
<ol>
<li><p>导入包管理系统的密匙</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5</span><br></pre></td></tr></table></figure>
</li>
<li><p>为MongoDB创建一个列表文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.6 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.6.list</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>3.更新所有本地安装包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure></p>
<p>4.安装MongoDB包<br>默认安装最新的包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y mongodb-org</span><br></pre></td></tr></table></figure></p>
<p>如果有需要，那么可以指定版本下载<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y mongodb-org=3.6.0 mongodb-org-server=3.6.0 mongodb-org-shell=3.6.0 mongodb-org-mongos=3.6.0 mongodb-org-tools=3.6.0</span><br></pre></td></tr></table></figure></p>
<p>注意，当你指定了版本号同时。使用update更新命令就会更新mongodb所以你需要执行以下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;mongodb-org hold&quot; | sudo dpkg --set-selections</span><br><span class="line">echo &quot;mongodb-org-server hold&quot; | sudo dpkg --set-selections</span><br><span class="line">echo &quot;mongodb-org-shell hold&quot; | sudo dpkg --set-selections</span><br><span class="line">echo &quot;mongodb-org-mongos hold&quot; | sudo dpkg --set-selections</span><br><span class="line">echo &quot;mongodb-org-tools hold&quot; | sudo dpkg --set-selections</span><br></pre></td></tr></table></figure></p>
<p>5.MongoDB日常操作<br>启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod start</span><br></pre></td></tr></table></figure></p>
<p>停止<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod stop</span><br></pre></td></tr></table></figure></p>
<p>重新启动MongoDB<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod restart</span><br></pre></td></tr></table></figure></p>
<p>6.卸载MongoDB<br>停止MongoDB<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod stop</span><br></pre></td></tr></table></figure></p>
<p>删除软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge mongodb-org*</span><br></pre></td></tr></table></figure></p>
<p>删除数据目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -r /var/log/mongodb</span><br><span class="line">sudo rm -r /var/lib/mongodb</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/function-anti-shake/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/function-anti-shake/" itemprop="url">函数节流防抖</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#函数节流防抖</p>
<p>##为啥要做这件事？<br>用户没事就多点几次你的按钮，不做防抖节流的话，会一次发出N个请求。耗费性能的同时，让页面的视觉变差。甚至导致页面崩溃。此时，函数节流（throttle），函数防抖（debounce）应运而生。</p>
<p>###函数节流(throttle)<br><em>描述：</em> </p>
<blockquote>
<p>函数节流就是预定一个函数只有在大于等于执行周期时才执行，周期内调用不执行。好像水滴攒到一定重量才会落下一样。</p>
</blockquote>
<p><em>应用场景</em></p>
<blockquote>
<ol>
<li>窗口调整。</li>
<li>页面滚动。</li>
<li>点击疯狂下单。</li>
</ol>
</blockquote>
<p><em>代码实现</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function throttle(method, delay)&#123;</span><br><span class="line">    var last = 0;</span><br><span class="line">    return function ()&#123;</span><br><span class="line">        var now = +new Date();</span><br><span class="line">        if(now - last &gt; delay)&#123;</span><br><span class="line">            method.apply(this,arguments);</span><br><span class="line">            last = now;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.getElementById(&apos;throttle&apos;).onclick = throttle(function()&#123;console.log(&apos;click&apos;)&#125;,2000);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/函数节流/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/函数节流/" itemprop="url">函数节流防抖</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#函数节流防抖</p>
<p>##为啥要做这件事？<br>用户没事就多点几次你的按钮，不做防抖节流的话，会一次发出N个请求。耗费性能的同时，让页面的视觉变差。甚至导致页面崩溃。此时，函数节流（throttle），函数防抖（debounce）应运而生。</p>
<p>###函数节流(throttle)<br><em>描述：</em></p>
<blockquote>
<p>函数节流就是预定一个函数只有在大于等于执行周期时才执行，周期内调用不执行。好像水滴攒到一定重量才会落下一样。</p>
</blockquote>
<p><em>应用场景</em></p>
<blockquote>
<ol>
<li>窗口调整。</li>
<li>页面滚动。</li>
<li>点击疯狂下单。</li>
</ol>
</blockquote>
<p><em>代码实现</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function throttle(method, delay)&#123;</span><br><span class="line">    var last = 0;</span><br><span class="line">    return function ()&#123;</span><br><span class="line">        var now = +new Date();</span><br><span class="line">        if(now - last &gt; delay)&#123;</span><br><span class="line">            method.apply(this,arguments);</span><br><span class="line">            last = now;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.getElementById(&apos;throttle&apos;).onclick = throttle(function()&#123;console.log(&apos;click&apos;)&#125;,2000);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/数据结构-栈/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/数据结构-栈/" itemprop="url">数据结构——栈</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="javascript-数据结构——栈"><a href="#javascript-数据结构——栈" class="headerlink" title="javascript 数据结构——栈"></a>javascript 数据结构——栈</h1><h3 id="栈的抽象数据结构组成"><a href="#栈的抽象数据结构组成" class="headerlink" title="栈的抽象数据结构组成"></a>栈的抽象数据结构组成</h3><ol>
<li>先进后出（LIFO， last-in-first-out）</li>
<li>因为1,所以不在栈顶的元素都无法访问</li>
<li>栈应该有一个访问栈顶的方法</li>
<li>栈应有一个入栈/出栈的方法</li>
<li>栈可以被清空</li>
</ol>
<h3 id="思考栈的实现"><a href="#思考栈的实现" class="headerlink" title="思考栈的实现"></a>思考栈的实现</h3><blockquote>
<p>属性：<br>    1.dataStore: 用来存放数据<br>    2.top: 栈顶的指针<br>    3.length: 栈的长度</p>
</blockquote>
<hr>
<blockquote>
<p>方法：<br>   1.push: 入栈<br>   2.pop: 出栈<br>   3.peek: 获取顶栈元素<br>   4.clear: 清除栈<br>   5.isEmpty: 判断是否为空栈</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/node应用部署/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/node应用部署/" itemprop="url">node应用部署</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>和正常开发没啥差别。</li>
<li>使用云数据库会好很多。</li>
<li>使用pm2项目管理工具。<ol>
<li>安装<br> npm install -g pm2 </li>
<li>启动<br> cd 到项目目录下，使用： pm2 start [入口文件]</li>
<li>查看进程<br> pm2 ls</li>
<li>监控<br> pm2 monit</li>
<li>停止<br> pm2 stop all<br> pm2 stop [id]</li>
<li>重载<br> pm2 reload all<br> pm2 reload [id]</li>
<li>重启<br> pm2 restart all<br> pm2 restart [id]</li>
<li>删除<br> pm2 delete all<br> pm2 delete [id]</li>
<li>日志<br> pm2 logs [–raw]<br> pm2 flush<br> pm2 reloadLogs</li>
<li>升级<br>pm2 updataPM2</li>
<li>帮助<br>pm2 –help</li>
</ol>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/koa2初涉/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/koa2初涉/" itemprop="url">koa2——入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##koa2——入门</p>
<h3 id="基础名词解析"><a href="#基础名词解析" class="headerlink" title="基础名词解析"></a>基础名词解析</h3><pre><code>1. require: node.js 中模块引入其他模块的方法。
2. koa2Obj.listen()函数。单参数： 监听端口号
3. context上下文: 一次对话的请求，响应。通过在请求和相应之间，进行操作，就可以控制返回给用户的东西。context.response.body就是要发送给用户的内容。
4. koa2Obj.use()： 在response之中加载方法。参数： 对应的方法名
5. Koa的默认返回类型是（text/plain）,如果想返回别的内容。可以使用ctx.request.accepts判断request的header中Content-Type中，客户端想返回什么类型的数据。ctx.response.type指定返回类型。ctx.response.body制定返回内容。
6. 网页模板，返回给用户最常见的就是网页模板。（fs:node中的文件功能模块-读：createReadStream(&quot;fileName&quot;)）
</code></pre><h3 id="深入——路由"><a href="#深入——路由" class="headerlink" title="深入——路由"></a>深入——路由</h3><blockquote>
<p>原生实现路由<br>原理： 使用ctx.request.path获取用户访问路径，以此作为判断分支，决定返回什么。</p>
</blockquote>
<blockquote>
<p>koa-route模块<br>koaObj.use(route.get(‘/‘, main))<br>koaObj.use(route.get(‘/user’, userInfo))</p>
<p>静态资源处理——koa-static<br>serve(path.join(_dirname))</p>
<p>重定向<br>ctx.response.redirect()方法可以发出一个302跳转，将用户导向另一个路由。</p>
</blockquote>
<h3 id="深入——中间件"><a href="#深入——中间件" class="headerlink" title="深入——中间件"></a>深入——中间件</h3><blockquote>
<p>Logger<br>通过console.log 实时输出日志<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(`$&#123;Date.now()&#125; $&#123;ctx.request.method&#125; $&#123;ctx.request.url&#125;`);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<hr>
<p>中间件栈<br>多个中间件会形成一个栈结构（middle stack），以”先进后出”（first-in-last-out）的顺序执行。<br>1 最外层的中间件首先执行。<br>2 调用next函数，把执行权交给下一个中间件。<br>…<br>3 最内层的中间件最后执行。<br>4 执行结束后，把执行权交回上一层的中间件。<br>…<br>5 最外层的中间件收回执行权之后，执行next函数后面的代码。</p>
</blockquote>
<blockquote>
<p>异步中间件——使用async和wait(之后再写这部分)<br>中间件的合成——koa-compose<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const middlewares = compose([logger, main]);</span><br><span class="line">app.use(middlewares);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>###错误处理 ctx.throw()</p>
<ol>
<li>500</li>
<li>404</li>
<li>处理错误的中间件 try catch</li>
<li>error 事件监听</li>
</ol>
<p>###Web App</p>
<blockquote>
<p>Cookies// 注意 这是服务端的cookie<br>?(服务端的cookie和客户端的cookie是分开的吗？我可以在客户端动服务端的cookie吗？)<br>ctx.cookies.set(‘view’, n);<br>ctx.cookies.get(‘view’)</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/node基础知识点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/node基础知识点/" itemprop="url">node基础知识点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#轻松学node.js</p>
<hr>
<p>#####全局对象</p>
<ul>
<li>setTimeout/clearTimeout</li>
<li>setInterval/clearInterval</li>
<li>__dirname</li>
<li>__filename</li>
<li>require</li>
<li>export</li>
</ul>
<p>#####模块</p>
<blockquote>
<p>定义模块： module.exports =  moduleName<br>使用模块： require<br>模块可以是函数，也可以是对象。如果暴露出来是对象，那么使用的时候就new，就可以使用了。</p>
</blockquote>
<p>#####事件</p>
<blockquote>
<p>node.js基于事件驱动<br>先绑定（使用events模块的on方法,双参数，参数1,事件名，参数2,回调）<br>后使用（使用events模块的emit方法，双参数，参数1, 为绑定的事件名， 参数2,传入绑定时，回调函数需要的参数）<br>这里最新了解了util, 这个模块是node提供的基本工具模块，包含了继承等工具。</p>
</blockquote>
<h5 id="文件读写（同步异步）"><a href="#文件读写（同步异步）" class="headerlink" title="文件读写（同步异步）"></a>文件读写（同步异步）</h5><p>涉及模块： fs<br>方法： </p>
<ul>
<li>同步方法（快乐值得等待）<ul>
<li>readFileSync（文件路径， 编码格式）</li>
<li>writeFileSync(文件名， 要写入文件的数据)</li>
</ul>
</li>
<li>异步方法（快乐无需等待）<ul>
<li>readFile(文件路径， 编码格式)</li>
<li>writeFile(文件名， 要写入文件的数据)</li>
</ul>
</li>
<li>执行队列的顺序<ol>
<li>在主队列中遇到同步方法，那么等待同步操作结束后继续执行队列。</li>
<li>在主队列中遇到异步方法（文件ＩＯ操作/读取数据库等），那么不会立即执行，而是会单独放在一边等主线程完成之后，再去执行异步队列。当异步队列完成时，就告诉主线程，我完成了。</li>
</ol>
</li>
</ul>
<p>然后通过这些方法组合起来，就可以写出文件的增删改查。</p>
<h5 id="流和管道"><a href="#流和管道" class="headerlink" title="流和管道"></a>流和管道</h5><p>涉及模块: fs<br>涉及方法：<br>    createReadStream<br>    createWriteStream</p>
<blockquote>
<p>流也是一个eventEmitter的实例（这意味着可以绑定方法”on”）<br>流也有事件周期： “data”, “end”</p>
</blockquote>
<p>流的应用： </p>
<blockquote>
<p>对文件的压缩<br>对http的处理</p>
</blockquote>
<p>流使用的是buffer（缓存中），如果文件很大的时候，这个时候使用缓存，一边加入缓存，同时进行处理。这样性能就会很高。<br>流的优势</p>
<blockquote>
<p>处理数据<br>提高性能</p>
</blockquote>
<p>buffer 的优势在于两点，</p>
<pre><code>1. 数据是存在内存中
2. 分段处理
</code></pre><p>pipe 管道<br>    使用管道其实就相当于我们js中的链式操作。通过一系列的链式操作，得到最终结果。</p>
<p>####webServer<br>这部分的内容和之前的node服务端基础知识重复了。故不再回头看一遍。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/模块化js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/模块化js/" itemprop="url">js中的模块化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:13:32+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#js中的模块化</p>
<p>##1.模块化的历史</p>
<pre><code>1. 模块化即函数
2. 模块化即对象
3. 闭包，立即执行函数
4. 函数放大模式，在一个模块里把子模块附在父模块中返回
5. 宽放大模式
</code></pre><p>##规范<br>    目前通行的规范有两种AMD， commonJS.</p>
<pre><code>1. COMMONJS
    * require: 用于加载模块。
    * 但是这个规范的缺陷是，需要等。等require里的文件加载完成后才能运行接下来的代码。但是在用户端，也就是浏览器端。用户的文件不是向服务端一样时时加载的。需要发送请求和等待。在客户端的模块化，必须要异步加载，而不是同步加载。这个原因催生了AMD规范。
2. AMD
    * require([module], callback);
    * 第一个参数[module]，是一个数组，里面的成员就是要加载的模块；第二个参数callback，则是加载成功之后的回调函数。
    * math.add()与math模块加载不是同步的，浏览器不会发生假死。所以很显然，AMD比较适合浏览器环境。
</code></pre><p>##require.js的用法</p>
<pre><code>1. 为什么我们需要模块化?
    * 实现js文件异步加载，避免文章失去响应。
    * 管理模块之间的依赖性，便于代码的维护和编写。
2. 模块的使用：
    * require([module], callback);
    * 第一个参数[module]，是一个数组，里面的成员就是要加载的模块；第二个参数callback，则是加载成功之后的回调函数。
3. require.config()方法，我们可以对模块的加载行为进行自定义。require.config()就写在主模块（main.js）的头部。参数就是一个对象，这个对象的paths属性指定各个模块的加载路径。
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">　　require.config(&#123;</span><br><span class="line">　　　　paths: &#123;</span><br><span class="line">　　　　　　&quot;jquery&quot;: &quot;jquery.min&quot;,</span><br><span class="line">　　　　　　&quot;underscore&quot;: &quot;underscore.min&quot;,</span><br><span class="line">　　　　　　&quot;backbone&quot;: &quot;backbone.min&quot;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure>
<pre><code>4. 定义模块
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define(function ()&#123;</span><br><span class="line">　　　　var add = function (x,y)&#123;</span><br><span class="line">　　　　　　return x+y;</span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　　　return &#123;</span><br><span class="line">　　　　　　add: add</span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure>
<p>##ES6的模块化</p>
<ol>
<li>ES6的模块化的基本规则<ul>
<li>每一个模块只加载一次， 每一个JS只执行一次， 如果下次再去加载同目录下同文件，直接从内存中读取。 一个模块就是一个单例，或者说就是一个对象；</li>
<li>每一个模块内声明的变量都是局部变量， 不会污染全局作用域；</li>
<li>模块内部的变量或者函数可以通过export导出；</li>
<li>一个模块可以导入别的模块</li>
</ul>
</li>
<li>使用：<ul>
<li>import 引入</li>
<li>export 导出</li>
</ul>
</li>
<li><p>基本语法</p>
<ul>
<li><p>1 export导出模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//lib.js 文件</span><br><span class="line">let bar = &quot;stringBar&quot;;</span><br><span class="line">let foo = &quot;stringFoo&quot;;</span><br><span class="line">let fn0 = function() &#123;</span><br><span class="line">    console.log(&quot;fn0&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">let fn1 = function() &#123;</span><br><span class="line">    console.log(&quot;fn1&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">export&#123; bar , foo, fn0, fn1&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2 引用模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123;bar,foo, fn0, fn1&#125; from &quot;./lib&quot;;</span><br><span class="line">console.log(bar+&quot;_&quot;+foo);</span><br><span class="line">fn0();</span><br><span class="line">fn1();</span><br></pre></td></tr></table></figure>
</li>
<li><p>3 修改模块名称（ XX as YY）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let fn0 = function() &#123;</span><br><span class="line">console.log(&quot;fn0&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">let obj0 = &#123;&#125;</span><br><span class="line">export &#123; fn0 as foo, obj0 as bar&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>还有很多导出的方式，目前在这里不赘述。</p>
<h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><p>ES6中的模块化都是属于引用。</p>
</li>
<li>每一个导入的js模块都是活的， 每一次访问该模块的变量或者函数都是最新的， 这个是原生ES6模块 与AMD和CMD的区别之一</li>
<li>兼容性<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chrome浏览器目前不支持import，和export；</span><br><span class="line">火狐的支持也有限， 比chrome好；</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/node服务端基础知识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Wei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ParserDark">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/node服务端基础知识/" itemprop="url">node服务器基础教程笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T22:11:23+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<ol>
<li>模块<br>| 模块名 | 简介 |<br>|——–|——–|<br>|   fs   |  文件系统模块： readFile       |<br>|    http    |   htttp请求有关模块 常用createServer， listen     |<br>|   url    |    客户端请求url的一个对象： parse    |<br>|   path     |     路径相关： extname（获取文件后缀名）   |<br>|   queryString     |     解析请求回传参数   |</li>
</ol>
<ol start="2">
<li><p>流程<br> 如果你要建立一个最简单的服务器，你只需要以下步骤</p>
<pre><code>1. 引入对应的模块——http fs
2. 使用http模块的createServer模块创建一个http请求。
3. 在createServer模块的回调里，使用reponse参数返回写入文件头，使用fs返回你的html页面。
4. 使用http模块里的listen方法监听端口。
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 像这样</span><br><span class="line">let http = require(&quot;http&quot;)</span><br><span class="line">let fs = require(&quot;fs&quot;)</span><br><span class="line">let server = http.createServer((req, res)=&gt;&#123;</span><br><span class="line">   res.writeHead(200, &#123;</span><br><span class="line">       &quot;content-type&quot;: &quot;text/html&quot;</span><br><span class="line">   &#125;)</span><br><span class="line">   fs.readFile(&quot;./index.html&quot;, (err, data)=&gt;&#123;</span><br><span class="line">		if(err) throw err</span><br><span class="line">		res.end(data)</span><br><span class="line">   	&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">server.listen(3000, &quot;127.0.0.2&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>路由的概念</p>
<ul>
<li><p>什么是路由</p>
<blockquote>
<p>简单说，假如我们有一台提供 Web 服务的服务器的网络地址是：10.0.0.1，而该 Web 服务又提供了三个可供用户访问的页面，其页面 URI 分别是：<br>   <a href="http://10.0.0.1/" target="_blank" rel="noopener">http://10.0.0.1/</a><br>   <a href="http://10.0.0.1/about" target="_blank" rel="noopener">http://10.0.0.1/about</a><br>   <a href="http://10.0.0.1/concat" target="_blank" rel="noopener">http://10.0.0.1/concat</a></p>
</blockquote>
<blockquote>
<p>那么其路径就分别是 /，/about，/concat。<br>当用户在浏览器窗口输入(可能是点击等事件)不同的url，那么就会访问不同的页面，服务器通过判断上面的路径（/， /about, /concat），对应不同的后端程序，继而运行相应的程序，得到对应的返回。<br>简而言之<strong>路由是根据不同的 url 地址展示不同的内容或页面</strong></p>
</blockquote>
</li>
<li><p>简单路由的实现</p>
<ul>
<li>通过req.url获取路径</li>
<li>使用if判断路径</li>
<li>在对应的判断分支中执行相应的操作</li>
<li>res.end返回<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(req.url == &quot;/&quot;)&#123;</span><br><span class="line">    fs.readFile(&quot;./public/index.html&quot;, (err, data)=&gt;&#123;</span><br><span class="line">res.end(data);</span><br><span class="line">   	 &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>重定向<br>  个人理解，如果用户访问到服务端没有的路径，比如： /sdalkjdklasjdlajs，之类的地址，那么我们可以对这种情况处理一下，显示对应的页面，或者直接跳转回首页。这就是重定向。</p>
</li>
</ul>
</li>
<li><p>返回非html的文件<br> 以上的情况，我们只是实现了服务器返回html的情况，假设，你的html中使用了src，也就是使用了外部文件（像js/css/image）等资源。我们就要通过设置响应头的方式让浏览器识别正确的资源类型。</p>
<ul>
<li>res.writeHead 设置响应头的信息。双参数，第一个参数为响应类型（像成功200， 缓存304， 没有这个资源404这种）, 第二个参数是一个json类型的对象。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">res.writeHead(200, &#123;</span><br><span class="line">    &quot;content-type&quot;: contentType</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Get请求处理<br> 首先判断请求类型，使用req对象判断是否符合get请求的条件</p>
<pre><code>1. req.method.toLocaleLowerCase() === &apos;get&apos;
2. pathName === &apos;/getMethod&apos;
</code></pre><p> 第一，判断请求的类型是否为get<br> 第二，通过路径判断执行相应的后端程序</p>
</li>
<li>Post请求处理<br> post与get请求的区别：<pre><code>1. post 加密，而get请求是把信息放在url里传入。而post不是。
2. post是一部分一部分的传入服务器的，每传一点就触发req.addListener(&apos;data&apos;, chunk=&gt; {
     postdata += chunk
})
当传输完成就触发req.addListener(&apos;end&apos;）但是在这个函数的回调中，不能直接处理postdata因为前面说过了，post是加密传输。所以，此时的postdata还是处于加密状态。所以我们需要使用另一个模块去解析它。queryString.parse(postdata)。此时，我们就可以获取到解密后的数据，也就是用户传给我们的信息。
</code></pre><code></code></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Mr.Wei</p>
              <p class="site-description motion-element" itemprop="description">今天的风儿，甚是喧嚣啊。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.Wei</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
